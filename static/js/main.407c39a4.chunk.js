(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{140:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(53),c=n.n(o),i=(n(65),n(8)),s=n(9),u=n(11),l=n(10),d=n(12),p=n(144),m=n(145),f=n(7),h=n(142),g="/balajistores-webapp/",O=n(4),_=Object(h.a)(function(e){return e.children||null}),b=n(32),y=n.n(b);n(117),n(121),n(141);y.a.initializeApp({apiKey:"AIzaSyDJ8qp2D8mupTsTS6zmpGXUeN9BDxMtYdQ",authDomain:"balaji-store.firebaseapp.com",databaseURL:"https://balaji-store.firebaseio.com",projectId:"balaji-store",storageBucket:"balaji-store.appspot.com",messagingSenderId:"388232322676"});var v=y.a.database(),E=y.a.auth();window.recaptchaVerifier=new y.a.auth.RecaptchaVerifier("sign-in-button",{size:"invisible",callback:function(e){console.log(e)}});var N=v,S=y.a.storage(),j=function(){return function(e){N.ref("/users/").once("value").then(function(t){var n=t.val();console.log(n),e(C(n))}).catch(function(t){e(C({Error:"Error"})),console.log(t)})}},C=function(e){return{type:"STORE_USERS",users:e}},T=function(e){return function(t,n){return new Promise(function(t,a){var r=n().auth.users;if(r)for(var o in r)console.log(r[o]),r[o].uphone===e&&t(!0);else t(!1);t(!1)})}},w=function(e){return function(t){N.ref("/users/"+e).once("value").then(function(e){var n=e.val();t(A(n)),localStorage.setItem("sn-user",JSON.stringify(n))}).catch(function(e){t(A(null)),console.log(e)})}},A=function(e){return{type:"STORE_USER",user:e}},P=function(){return function(e){localStorage.clear(),e(A(null)),e(j())}},I=n(42),R=function(e){return{type:"STORE_CATEGORIES",categories:e}},L=function(e){return{type:"STORE_NEW_CATEGORY",name:e}},D=function(e){return{type:"STORE_PRODUCTS",products:e}},k=function(e,t){return function(n,a){return new Promise(function(n){var r=!1,o=a().products.products;o||(o={}),o[t]&&Object.keys(o[t]).map(function(a){o[t][a].name===e&&(r=!0,n("exists"))}),r||n("notExists")})}},U=function(e,t){return{type:"ADD_PRODUCT_IN_STORE",productObj:e,key:t}},x=function(e){return{type:"STORE_CART",cart:e}},G=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).signOutHandler=function(){n.props.signOut(),window.Materialize.toast("Signed out!",3e3)},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=r.a.createElement(O.NavItem,{href:"./auth"},"Login & Sign Up");return this.props.user&&(e=r.a.createElement(O.NavItem,{onClick:this.signOutHandler},"Sign Out")),r.a.createElement(O.Navbar,{brand:"Balaji Stores",right:!0},r.a.createElement(O.NavItem,{href:"./"},"Home"),r.a.createElement(O.NavItem,{href:"./cart"},"Cart"),e)}}]),t}(a.Component),M=Object(f.connect)(function(e){return{user:e.auth.user}},function(e){return{signOut:function(){return e(P())}}})(G),H=n(56),q=n.n(H),z=function(e){function t(e){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).call(this,e))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(_,null,r.a.createElement(M,null),r.a.createElement("main",{className:q.a.content},this.props.children))}}]),t}(r.a.Component),B=Object(h.a)(Object(f.connect)(null,function(e){return{}})(z)),Q=n(23),W=n(143),J=n(24),K=n.n(J),V=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={phoneNumber:"",isOtpNeeded:!1,isError:!1,errorMsg:"",isLoading:!1,otp:"",phoneNotExists:!1},n.handleSignin=function(){var e="+91"+n.state.phoneNumber,t=window.recaptchaVerifier,a=!1;n.state.phoneNotExists&&(a=!0),n.props.signIn(e,t,a).catch(function(e){return n.setState({isError:!0,errorMsg:e})}).then(function(e){"otpNeeded"===e?(n.setState({isOtpNeeded:!0}),console.log("Otp neeeded")):"phoneNotExistsOtpNeeded"===e&&(n.setState({phoneNotExists:!0,isOtpNeeded:!0}),console.log("Phone not exists"))})},n.handleOtp=function(){n.setState({isLoading:!0});var e=n.state.otp,t=Object(Q.a)(Object(Q.a)(n));window.confirmationResult.confirm(e).then(function(e){window.Materialize.toast("Signed in!",3e3);var n=e.user;t.props.setUser(n.uid),console.log(e),t.state.phoneNotExists&&t.props.setNewUser(e.user.uid,"+91"+t.state.phoneNumber),t.setState({isLoading:!1,phoneNotExists:!1})}).catch(function(e){t.setState({isLoading:!1}),t.setState({isError:!0}),"auth/invalid-verification-code"===e.code?t.setState({isError:!0,errorMsg:"Please enter a valid OTP"}):t.setState({isError:!0,errorMsg:"Some error ocurred. Please try again."}),console.log(e)})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;if(this.props.user)return r.a.createElement(W.a,{to:{pathname:g+"/"}});var t=r.a.createElement(O.Button,{waves:"light",className:K.a.content,onClick:this.handleSignin},"Continue");this.props.authLoading&&(t=r.a.createElement("div",{className:K.a.preloader},r.a.createElement(O.Preloader,{size:"small"}))),this.state.isOtpNeeded&&(t=r.a.createElement("div",null,r.a.createElement(O.Input,{label:"OTP",value:this.state.otp,onChange:function(t){return e.setState({otp:t.target.value})}}),r.a.createElement(O.Button,{waves:"light",className:K.a.content,onClick:this.handleOtp},"Submit"))),this.state.isLoading&&(t=r.a.createElement("div",null,r.a.createElement(O.Input,{label:"OTP",value:this.state.otp,onChange:function(t){return e.setState({otp:t.target.value})},disabled:!0}),r.a.createElement("div",{className:K.a.preloader},r.a.createElement(O.Preloader,{size:"small"})),";"));var n=null;return this.state.isError&&(n=r.a.createElement("span",{className:K.a.error},this.state.errorMsg)),r.a.createElement("div",{className:K.a.container},r.a.createElement("div",{className:K.a.content},n,r.a.createElement(O.Input,{label:"Mobile No.",value:this.state.phoneNumber,onChange:function(t){return e.setState({phoneNumber:t.target.value})}}),t))}}]),t}(a.Component),X=Object(h.a)(Object(f.connect)(function(e){return{authLoading:e.ui.authLoading,user:e.auth.user}},function(e){return{signIn:function(t,n,a){return e(function(e,t,n){return function(a){return a({type:"AUTH_START_LOADING"}),new Promise(function(r,o){n?E.signInWithPhoneNumber(e,t).then(function(t){a({type:"AUTH_STOP_LOADING"}),window.confirmationResult=t,console.log(e),console.log("OTP sent to new user"),r("otpNeeded"),console.log(t)}).catch(function(e){a({type:"AUTH_STOP_LOADING"}),"auth/invalid-phone-number"===e.code?o("Please enter a valid phone number"):o("Some error ocurred. Please try again."),console.log(e)}):a(T(e)).then(function(n){n?E.signInWithPhoneNumber(e,t).then(function(e){a({type:"AUTH_STOP_LOADING"}),window.confirmationResult=e,r("otpNeeded"),console.log(e)}).catch(function(e){a({type:"AUTH_STOP_LOADING"}),"auth/invalid-phone-number"===e.code?o("Please enter a valid phone number"):o("Some error ocurred. Please try again."),console.log(e)}):E.signInWithPhoneNumber(e,t).then(function(e){a({type:"AUTH_STOP_LOADING"}),window.confirmationResult=e,r("phoneNotExistsOtpNeeded"),console.log(e)}).catch(function(e){a({type:"AUTH_STOP_LOADING"}),"auth/invalid-phone-number"===e.code?o("Please enter a valid phone number"):o("Some error ocurred. Please try again."),console.log(e)})})})}}(t,n,a))},setNewUser:function(t,n){return e(function(e,t){return function(n,a){var r=a().auth.users,o={uid:e,uphone:t};N.ref("users/"+e).set(o),r||(r={}),r[e]=o,n(C(r)),n(w(o.uid))}}(t,n))},setUser:function(t){return e(w(t))},signOut:function(){return e(P())}}})(V)),Y=n(43),F=n.n(Y),Z=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,isAdmin:!1,file:void 0,selectedCategory:"select",newCatName:"",newCatStatus:null,productName:"",productPrice:"0",productDescription:"",isError:!1,errorMsg:""},n.handleFile=function(e){n.setState({file:document.getElementById("file-handler").files[0]})},n.handleAddProduct=function(){n.setState({isError:!1,errorMsg:""});var e=!1,t="";if("select"!==n.state.selectedCategory&&"addCategory"!==n.state.selectedCategory&&(e=!0,t=n.state.selectedCategory),"addCategory"===n.state.selectedCategory&&""!==n.state.newCatName.trim()&&"added"===n.state.newCatStatus&&(e=!0,t=n.state.newCatName),n.state.productName.trim()&&parseInt(n.state.productPrice.trim())&&e){var a=n.state.file,r=S.ref(t+"/"+n.state.productName.trim()),o=Object(Q.a)(Object(Q.a)(n));a&&void 0!==a?r.put(a).then(function(e){console.log("Uploaded a blob or file!"),o.props.addProduct(o.state.productName,t,o.state.productPrice,o.state.productDescription,!0).then(function(e){window.Materialize.toast(e,5e3)})}):n.props.addProduct(n.state.productName,t,n.state.productPrice,n.state.productDescription,!1).then(function(e){window.Materialize.toast(e,5e3)})}else console.log(n.state.productName.trim(),parseInt(n.state.productPrice.trim()),e,t),n.setState({isError:!0,errorMsg:"Error in one of the fields."})},n.categoryChangeHandler=function(e){"select"!==e.target.value&&n.setState({selectedCategory:e.target.value,newCatStatus:null,newCatName:""}),console.log(e.target.value)},n.newCategoryHandler=function(){n.state.newCatName.trim()&&n.props.addCategory(n.state.newCatName).then(function(e){return n.setState({newCatStatus:e})}).catch(function(e){return n.setState({newCatStatus:e})})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({loading:!1,isAdmin:e.props.isAdmin})},1e3)}},{key:"render",value:function(){var e=this;if(this.state.loading)return r.a.createElement("div",{className:F.a.container},r.a.createElement(O.Preloader,{size:"small"}));if(!this.state.isAdmin)return r.a.createElement(W.a,{to:{pathname:g+"/"}});var t=null;"addCategory"===this.state.selectedCategory&&(t=r.a.createElement("div",null,r.a.createElement(O.Input,{placeholder:"",label:"Category Name",value:this.state.newCatName,onChange:function(t){return e.setState({newCatName:t.target.value})}}),r.a.createElement(O.Button,{waves:"light",onClick:this.newCategoryHandler},"Add")));var n=null;return this.props.categories&&(n=this.props.categories.map(function(e,t){return r.a.createElement("option",{value:e,key:t},e)})),r.a.createElement("div",{className:F.a.container},r.a.createElement("h3",null,"Add a product"),r.a.createElement(O.Input,{placeholder:"",label:"Name",onChange:function(t){return e.setState({productName:t.target.value})}}),r.a.createElement("span",null,this.state.newCatStatus),r.a.createElement(O.Input,{type:"select",label:"Category",onChange:this.categoryChangeHandler},r.a.createElement("option",{value:"select",selected:!0},"Select"),n,r.a.createElement("option",{value:"addCategory"},"New category")),t,r.a.createElement(O.Input,{placeholder:"",label:"Price",onChange:function(t){return e.setState({productPrice:t.target.value})}}),r.a.createElement(O.Input,{placeholder:"",label:"Description",onChange:function(t){return e.setState({productDescription:t.target.value})}}),r.a.createElement(O.Input,{accept:"image/*",type:"file",label:"Image",id:"file-handler",onChange:this.handleFile}),r.a.createElement(O.Button,{waves:"light",onClick:this.handleAddProduct},"Add Product"),this.state.isError?r.a.createElement("span",{className:F.a.errorMsg},this.state.errorMsg):null)}}]),t}(a.Component),$=Object(f.connect)(function(e){return{isAdmin:e.auth.isAdmin,userLoading:e.ui.userLoading,categories:e.products.categories}},function(e){return{addCategory:function(t){return e(function(e){return function(t,n){return new Promise(function(a,r){var o=n().products.categories,c=0,i=!1;o&&(o.map(function(t){t===e&&(i=!0,r("exists"))}),c=o.length),i||(N.ref("/categories/").update(Object(I.a)({},c,e)),t(L(e)),a("added"))})}}(t))},addProduct:function(t,n,a,r,o){return e(function(e,t,n,a,r){return function(o){return new Promise(function(c){o(k(e,t)).then(function(i){if(console.log(i),"exists"===i)c("Product exists!");else if("notExists"===i){var s=N.ref("/products/"+t+"/").push().key;N.ref("/products/"+t+"/"+s).set({name:e,category:t,price:n,description:a,isImg:r}),o(U({name:e,category:t,price:n,description:a,isImg:r},s)),c("Product added!")}else c("Error occurred while adding product!")})})}}(t,n,a,r,o))}}})(Z),ee=n(6),te=n(21),ne=n.n(te),ae=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).addProductHandler=function(){n.props.doesExistInCart(n.props.fbKey).then(function(e){if("exists"===e)window.Materialize.toast("Product exists in cart!",3e3);else if("notExists"===e){var t=Object(ee.a)({},n.props.info);t.key=n.props.fbKey,t.qty=1,n.props.addToCart(t),window.Materialize.toast("Added to cart!",3e3)}else window.Materialize.toast("Error occurred!",3e3)})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.info.isImg&&S.ref(this.props.info.category+"/"+this.props.info.name).getDownloadURL().then(function(e){document.getElementById("myimg").src=e}).catch(function(e){})}},{key:"render",value:function(){return r.a.createElement("div",{className:ne.a.container},r.a.createElement("img",{id:"myimg",className:ne.a.image}),r.a.createElement("div",{className:ne.a.content},r.a.createElement("span",{className:ne.a.name},this.props.info.name),r.a.createElement("span",{className:ne.a.price},"\u20b9 ",this.props.info.price),r.a.createElement("span",{className:ne.a.description},this.props.info.description),r.a.createElement("div",{className:ne.a.addToCart,onClick:this.addProductHandler},r.a.createElement(O.Icon,null,"add_shopping_cart"),r.a.createElement("span",{className:ne.a.add},"ADD"))))}}]),t}(a.Component),re=Object(f.connect)(function(e){return{products:e.products.products}},function(e){return{addToCart:function(t){return e(function(e){return{type:"ADD_TO_CART",item:e}}(t))},doesExistInCart:function(t){return e(function(e){return function(t,n){return new Promise(function(t){var a=n().cart.cart,r=!1;a.map(function(t){t.key===e&&(r=!0)}),t(r?"exists":"notExists")})}}(t))}}})(ae),oe=n(57),ce=n.n(oe),ie=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=r.a.createElement("span",null,"No products found");return this.props.products&&this.props.products[this.props.category]&&(t=Object.keys(this.props.products[this.props.category]).map(function(t){return r.a.createElement(re,{info:e.props.products[e.props.category][t],fbKey:t})})),r.a.createElement("div",{className:ce.a.container},t)}}]),t}(a.Component),se=Object(f.connect)(function(e){return{products:e.products.products}},function(e){return{}})(ie),ue=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=null;return this.props.categories&&(e=this.props.categories.map(function(e,t){return r.a.createElement(O.Tab,{title:e,active:0===t},r.a.createElement(se,{category:e}))})),r.a.createElement(O.Tabs,{className:"tab-demo z-depth-1"},e)}}]),t}(a.Component),le=Object(f.connect)(function(e){return{categories:e.products.categories}},function(e){return{}})(ue),de=n(58),pe=n.n(de),me=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.isProductsLoading||this.props.isUiLoading?r.a.createElement("div",{className:pe.a.loaderContainer},r.a.createElement(O.Preloader,{size:"small"})):r.a.createElement(le,null)}}]),t}(a.Component),fe=Object(f.connect)(function(e){return{isProductsLoading:e.ui.productsLoding,isUiLoading:e.ui.uiLoading}},function(e){return{}})(me),he=n(18),ge=n.n(he),Oe=n(27),_e=n.n(Oe),be=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={quantity:""},n.removeQtyHandler=function(){var e=n.state.quantity;1===e?window.Materialize.toast("Cannot decrease quantity further",3e3):(e--,n.setState({quantity:e}),n.props.setQty(n.props.fbKey,e))},n.addQtyHandler=function(){var e=n.state.quantity;20===e?window.Materialize.toast("Cannot increase quantity further",3e3):(e++,n.setState({quantity:e}),n.props.setQty(n.props.fbKey,e))},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({quantity:this.props.quantity})}},{key:"render",value:function(){return r.a.createElement("div",{className:_e.a.container},r.a.createElement("span",{onClick:this.removeQtyHandler,className:_e.a.iconContainer},r.a.createElement(O.Icon,{className:_e.a.icon},"remove_circle_outline")),r.a.createElement("span",{className:_e.a.qty},this.state.quantity),r.a.createElement("span",{onClick:this.addQtyHandler,className:_e.a.iconContainer},r.a.createElement(O.Icon,{className:_e.a.icon},"add_circle_outline")))}}]),t}(a.Component),ye=Object(f.connect)(function(e){return{}},function(e){return{setQty:function(t,n){return e(function(e,t){return console.log("set product qty called",e,t),{type:"SET_PRODUCT_QTY",key:e,qty:t}}(t,n))}}})(be),ve=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).removeItemHandler=function(e){n.props.removeItem(e)},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;if(this.props.cartLoading)return r.a.createElement("div",{className:ge.a.container},r.a.createElement(O.Preloader,null));var t=this.props.cart.map(function(t){return r.a.createElement(O.CardPanel,{className:"white lighten-4 black-text ".concat(ge.a.card)},r.a.createElement("span",{className:ge.a.name},t.name),r.a.createElement("span",{className:ge.a.price},t.qty," x ",t.price," = \u20b9 ",t.qty*t.price),r.a.createElement("span",{className:ge.a.quantity},r.a.createElement(ye,{quantity:t.qty,fbKey:t.key})),r.a.createElement("span",{className:ge.a.category},"Category: ",t.category),r.a.createElement("span",{className:ge.a.removeBtn,onClick:function(){return e.removeItemHandler(t.key)}},r.a.createElement(O.Icon,null,"close")))}),n=r.a.createElement("span",{className:ge.a.heading},"Cart");return 0===this.props.cart.length&&(n=r.a.createElement("span",{className:ge.a.heading},"Cart is empty")),r.a.createElement("div",{className:ge.a.container},n,t)}}]),t}(a.Component),Ee=Object(f.connect)(function(e){return{cartLoading:e.ui.cartLoading,cart:e.cart.cart}},function(e){return{removeItem:function(t){return e(function(e){return{type:"REMOVE_ITEM_FROM_CART",key:e}}(t))}}})(ve),Ne=function(e){function t(e){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).call(this,e))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getProducts(),this.props.getUser(),this.props.getUsers(),this.props.getCategories(),this.props.getCart()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(B,null,r.a.createElement(p.a,null,r.a.createElement(m.a,{path:g+"/",exact:!0,component:fe}),r.a.createElement(m.a,{path:g+"/auth",exact:!0,component:X}),r.a.createElement(m.a,{path:g+"/add",exact:!0,component:$}),r.a.createElement(m.a,{path:g+"/cart",exact:!0,component:Ee}))))}}]),t}(a.Component),Se=Object(h.a)(Object(f.connect)(function(e){return{user:e.auth.user}},function(e){return{getUsers:function(){return e(j())},getUser:function(){return e(function(e,t){if(e({type:"USER_START_LOADING"}),t().auth.user)e({type:"USER_STOP_LOADING"});else{var n=localStorage.getItem("sn-user");n&&(n=JSON.parse(n),e(A(n))),e({type:"USER_STOP_LOADING"})}})},getCategories:function(){return e(function(e){e({type:"UI_START_LOADING"}),N.ref("/categories/").once("value").then(function(t){e({type:"UI_STOP_LOADING"});var n=t.val();console.log(n),e(R(n))}).catch(function(t){e({type:"UI_STOP_LOADING"}),e(R({0:"Error"})),console.log(t)})})},getProducts:function(){return e(function(e){e({type:"PRODUCTS_START_LOADING"}),N.ref("/products/").once("value").then(function(t){var n=t.val();console.log(n),e({type:"PRODUCTS_STOP_LOADING"}),e(D(n))}).catch(function(t){e({type:"PRODUCTS_STOP_LOADING"}),e(D("error")),console.log(t)})})},getCart:function(){return e(function(e){e({type:"CART_START_LOADING"});var t=localStorage.getItem("sn-cart");t?(e({type:"CART_STOP_LOADING"}),console.log("Cart found in storage"),e(x(JSON.parse(t)))):(e({type:"CART_STOP_LOADING"}),console.log("Cart not found in storage"),e(x([])))})}}})(Ne)),je=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ce(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Te=n(146),we=n(20),Ae=(n(131),n(59)),Pe={isAuthenticated:!1,users:{},user:null,isAdmin:!1},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STORE_USERS":return Object(ee.a)({},e,{users:t.users});case"STORE_USER":var n=!1;return t.user&&"+911234567890"===t.user.uphone&&(n=!0),Object(ee.a)({},e,{user:t.user,isAdmin:n});default:return Object(ee.a)({},e)}},Re={authLoading:!1,userLoading:!1,uiLoading:!1,productsLoading:!1,cartLoading:!1},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re;switch((arguments.length>1?arguments[1]:void 0).type){case"AUTH_START_LOADING":return Object(ee.a)({},e,{authLoading:!0});case"AUTH_STOP_LOADING":return Object(ee.a)({},e,{authLoading:!1});case"USER_START_LOADING":return Object(ee.a)({},e,{userLoading:!0});case"USER_STOP_LOADING":return Object(ee.a)({},e,{userLoading:!1});case"UI_START_LOADING":return Object(ee.a)({},e,{uiLoading:!0});case"UI_STOP_LOADING":return Object(ee.a)({},e,{uiLoading:!1});case"PRODUCTS_START_LOADING":return Object(ee.a)({},e,{productsLoading:!0});case"PRODUCTS_STOP_LOADING":return Object(ee.a)({},e,{productsLoading:!1});case"CART_START_LOADING":return Object(ee.a)({},e,{cartLoading:!0});case"CART_STOP_LOADING":return Object(ee.a)({},e,{cartLoading:!1});default:return Object(ee.a)({},e)}},De=n(31),ke={categories:[],products:{}},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STORE_CATEGORIES":return Object(ee.a)({},e,{categories:t.categories});case"STORE_NEW_CATEGORY":var n=[];return e.categories&&(n=Object(De.a)(e.categories)),n.push(t.name),Object(ee.a)({},e,{categories:n});case"STORE_PRODUCTS":return Object(ee.a)({},e,{products:t.products});case"ADD_PRODUCT_IN_STORE":var a=Object.assign({},e.products);return a[t.productObj.category]?a[t.productObj.category][t.key]=t.productObj:(a[t.productObj.category]={},a[t.productObj.category][t.key]=t.productObj),Object(ee.a)({},e,{products:a});default:return Object(ee.a)({},e)}},xe={cart:[]},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STORE_CART":return Object(ee.a)({},e,{cart:t.cart});case"ADD_TO_CART":var n=Object(De.a)(e.cart);return n.push(t.item),localStorage.removeItem("sn-cart"),localStorage.setItem("sn-cart",JSON.stringify(n)),Object(ee.a)({},e,{cart:n});case"REMOVE_ITEM_FROM_CART":var a=Object(De.a)(e.cart);return a=a.filter(function(e){return e.key!==t.key}),localStorage.removeItem("sn-cart"),localStorage.setItem("sn-cart",JSON.stringify(a)),Object(ee.a)({},e,{cart:a});case"SET_PRODUCT_QTY":var r=Object(De.a)(e.cart);return r.map(function(e){e.key===t.key&&(e.qty=t.qty)}),localStorage.removeItem("sn-cart"),localStorage.setItem("sn-cart",JSON.stringify(r)),Object(ee.a)({},e,{cart:r});default:return Object(ee.a)({},e)}},Me=Object(we.c)({auth:Ie,ui:Le,products:Ue,cart:Ge}),He=[Ae.a];console.log("Production build");var qe=we.d.apply(void 0,[we.a.apply(void 0,He)].concat([])),ze=Object(we.e)(Me,{},qe),Be=r.a.createElement(f.Provider,{store:ze},r.a.createElement(Te.a,null,r.a.createElement(Se,null)));c.a.render(Be,document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/balajistores-webapp",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/balajistores-webapp","/service-worker.js");je?(function(e,t){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Ce(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):Ce(t,e)})}}()},18:function(e,t,n){e.exports={container:"Cart__container__13I7p",heading:"Cart__heading__1-cDY",card:"Cart__card__1l5Nk",removeBtn:"Cart__removeBtn__3XUUH",name:"Cart__name__2V1gW",price:"Cart__price__k_ZBl",category:"Cart__category__1CQqj",quantity:"Cart__quantity__3nXNs"}},21:function(e,t,n){e.exports={container:"Product__container__2byVT",image:"Product__image__3UXKK",content:"Product__content__VvXai",name:"Product__name__2U1nG",price:"Product__price__11zfx",description:"Product__description__2Qq8c",addToCart:"Product__addToCart__2fHHX",add:"Product__add__alTc2"}},24:function(e,t,n){e.exports={container:"Auth__container__WbE4m",content:"Auth__content__3HYeu",preloader:"Auth__preloader__KJOEb",error:"Auth__error__20E-5"}},27:function(e,t,n){e.exports={container:"Quantity__container__2YzRp",qty:"Quantity__qty__3uROo",icon:"Quantity__icon__1oaH3",iconContainer:"Quantity__iconContainer__3ouzS"}},43:function(e,t,n){e.exports={container:"AddProduct__container__TQPMa",input:"AddProduct__input__13Mxw",errorMsg:"AddProduct__errorMsg__3Xlif"}},56:function(e,t,n){e.exports={content:"Layout__content__ciN7r",sidenav:"Layout__sidenav__1-mVb",hiddenButton:"Layout__hiddenButton__3-gS4"}},57:function(e,t,n){e.exports={container:"Products__container__1mXrb"}},58:function(e,t,n){e.exports={loaderContainer:"Home__loaderContainer__1cT6k"}},61:function(e,t,n){e.exports=n(140)},65:function(e,t,n){}},[[61,2,1]]]);
//# sourceMappingURL=main.407c39a4.chunk.js.map